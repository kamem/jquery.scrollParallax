/*! jquery.scrollParallax v0.1.0 | (c) 2015 kamem | https://github.com/kamem/jquery.scrollParallax.git */
!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(){e($,t)}):"undefined"!=typeof exports?module.exports=e(require("jquery"),t):e($,t)}(this,function(t,e){var n=function(n){this.$stage=t(e),this.direction="y",this.functions=[],this.debugMode=!1,this.setDirectionInfo()};n.prototype.setVal=function(n){this.$stage=t(n.stage?n.stage:e),this.direction=n.direction||this.direction,this.debugMode=n.debugMode||this.debugMode,this.setDirectionInfo()},n.prototype.update=function(){var t="scroll"+this.directionPositionName;this.scrollPosition=this.$stage[t]();var n=e["inner"+this.stageSizeName];this.stageSize=n?n:document.documentElement["client"+this.stageSizeName]},n.prototype.setDirectionInfo=function(){this.directionPositionName="y"===this.direction?"Top":"Left",this.stageSizeName="y"===this.direction?"Height":"Width"};var o=new n;t.parallax=function(e){o.setVal(e),o.debugMode&&t("body").append('<p class="parallax-debug" style="border: 1px solid red;position: absolute;'+("y"===o.direction?"width":"height")+": 100%;"+("y"===o.direction?"left":"top")+': 0;"></p>')};var i=function(t){this.timingLinePercent=50};i.prototype.setVal=function(t){this.timingLinePercent=t.timingLinePercent||this.timingLinePercent};var r=new i;t.parallaxTiming=function(t){r.setVal(t)},t.fn.parallaxTiming=function(e){var n,i=this,s=e.toggle||[],a=e.fixScrollPosition||null;o.functions.push(function(){var u=a?a:i.offset()[o.directionPositionName.toLocaleLowerCase()],c=e.timingLinePercent||r.timingLinePercent,f=o.scrollPosition+o.stageSize/(100/c);if(f>=u?!n:n){n=f>=u;var l=[n?"start":"end"];e[l]?e[l]({target:i,isOver:n}):s.length>0&&e.toggle[n?0:1]({target:i,isOver:n})}o.debugMode&&t("body > .parallax-debug").css(o.directionPositionName.toLocaleLowerCase(),f)})},t.fn.parallaxSpeed=function(e){var n=this,i=e.style||"top",r=t.extend({speed:2,min:-999999,max:999999,fixPosition:String(n.css(i)),fixScrollPosition:0},e),s="object"==typeof i?i:[i],a="object"==typeof r.speed?r.speed:[r.speed],f="object"==typeof r.min?r.min:[r.min],l="object"==typeof r.max?r.max:[r.max],h=[];s.forEach(function(t,e){h[e]=String(n.css(t))}),o.functions.push(function(){s.forEach(function(t,e){var i=a[e]||r.speed,s=f[e]||r.min,p=l[e]||r.max,d=u(r.fixScrollPosition),g=h[e]||r.fixPosition,y=new c(g),m=y.getValueAry(),v=[];m.forEach(function(e,n){var r="object"==typeof s?s[n]:s,a="object"==typeof p?p[n]:p,u="object"==typeof i?i[n]:i;v[n]=-Number(-o.scrollPosition/u+d/u)+e,v[n]=Number(v[n]<r?r:v[n]>a?a:v[n]),t.indexOf("background")>=0&&(v[n]=v[n]>=1?parseInt(v[n]):v[n]<0?0:v[n])}),n.css(t,y.setValue(v))})})};var s=function(t){this.$element=t,this.styleValues={},this.motions=[],this.rangeMotions=[]};s.prototype.setMotions=function(e){var n=t.extend({easing:"linear"},e);this.motions.push(n)},s.prototype.setRangeMotions=function(){var t=[];this.motions.forEach(function(e){var n=u(e.start),i=n<=o.scrollPosition;i&&t.push(e)}),this.rangeMotions=t},s.prototype.setDefaultStyles=function(){var t={};this.motions.forEach(function(e){for(var n in e.fromStyle)void 0===t[n]&&(t[n]=e.fromStyle[n])}),this.styleValues=t},s.prototype.setFromStyle=function(){var t=this;this.motions.forEach(function(e,n){for(var o in e.toStyle)void 0===e.fromStyle&&(e.fromStyle={}),void 0===e.fromStyle[o]&&(e.fromStyle[o]=t.getLastToStyle(o,n))})},s.prototype.getLastToStyle=function(t,e){for(var n="",o=Math.max(e-1,0),i=o;i>=0;i--){var r=this.motions[i];if(void 0!==r.fromStyle[t]){n=r.toStyle[t];break}}return""===n&&(n=this.$element.css(t)),n},s.prototype.setStart=function(){var t=this;this.motions.forEach(function(e,n){void 0===e.start&&(e.start=t.getLastStart(n))})},s.prototype.getLastStart=function(t){for(var e="",n=Math.max(t-1,0),o=n;o>=0;o--){var i=this.motions[o];if(void 0!==i.start){e=i.end;break}}return e},t.fn.parallaxFit=function(t){var e=new s(this);void 0!==t.end&&e.setMotions({start:t.start,end:t.end,fromStyle:t.fromStyle,toStyle:t.toStyle,easing:t.easing});for(var n=1;void 0!==t["motion"+n+"End"];n++){var i="motion"+n;e.setMotions({start:t[i+"Start"],end:t[i+"End"],fromStyle:t[i+"FromStyle"],toStyle:t[i+"ToStyle"],easing:t[i+"Easing"]})}e.setFromStyle(),e.setStart(),o.functions.push(function(){e.setRangeMotions(),e.setDefaultStyles(),e.rangeMotions.forEach(function(t,n){var i=u(t.start),r=u(t.end),s=i<o.scrollPosition&&o.scrollPosition<r,a=r-i,l=s?(o.scrollPosition-i)/a:o.scrollPosition>i?1:o.scrollPosition<r?0:"";for(var h in t.fromStyle){for(var p=new c(String(t.fromStyle[h])),d=new c(String(t.toStyle[h])),g=p.getValueAry(),y=d.getValueAry(),m=[],v=0;v<g.length;v++){var M=Math.abs(g[v]-y[v]),S=g[v]<y[v]?M:-M;m[v]=f[t.easing](l,g[v],S,1),h.indexOf("background")>=0&&(m[v]=m[v]>=1?parseInt(m[v]):m[v]<0?0:m[v])}e.styleValues[h]=p.setValue(m)}}),e.$element.css(e.styleValues)})},o.$stage.on("scroll resize load",function(){o.update(),o.functions.forEach(function(t){t()})});var a=function(){o.$stage.queue([]).stop()};e.addEventListener("DOMMouseScroll",a,!1),e.onmousewheel=document.onmousewheel=a;var u=function(e){if("string"==typeof e){var n=e.split(","),i=t(n[0]).offset()[o.directionPositionName.toLocaleLowerCase()];n[1]&&(i+=parseInt(n[1]))}else var i=e;return i},c=function(t){this.myRegExp=/(\d+(\.\d+)?)(deg|\)|px|em|rem|%|$|\,)/g,this.colorStringRegExp=/red|blue|green|yellow/g,this.colorRegExp=/#[0-9a-fA-F]{3,6}/g,this.value=this.changeColor(t)};c.prototype.changeColor=function(t){var e={red:"FF0000",blue:"0000FF",yellow:"FFFF00",green:"008000"},n=t.replace(this.colorStringRegExp,function(t){return"#"+e[t]});return n.replace(this.colorRegExp,function(t){if(4===t.length){var e=t.slice(1,2)+t.slice(1,2),n=t.slice(2,3)+t.slice(2,3),o=t.slice(3,4)+t.slice(3,4);t=e+n+o}var i=parseInt(t.substring(1).substring(0,2),16),r=parseInt(t.substring(1).substring(2,4),16),s=parseInt(t.substring(1).substring(4,6),16);return"rgb("+i+","+r+","+s+")"})},c.prototype.getValueAry=function(){for(var t,e=[];null!==(t=this.myRegExp.exec(this.value));)e.push(Number(t[1]));return e},c.prototype.setValue=function(t){var e=0;return this.value.replace(this.myRegExp,function(n){return n.replace(/\d+(\.\d+)?/,t[e++])})};var f={linear:function(t,e,n,o){return e+n*t},easeInQuad:function(t,e,n,o){return n*(t/=o)*t+e},easeOutQuad:function(t,e,n,o){return-n*(t/=o)*(t-2)+e},easeInOutQuad:function(t,e,n,o){return(t/=o/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,o){return n*(t/=o)*t*t+e},easeOutCubic:function(t,e,n,o){return n*((t=t/o-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,o){return(t/=o/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,o){return n*(t/=o)*t*t*t+e},easeOutQuart:function(t,e,n,o){return-n*((t=t/o-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,o){return(t/=o/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,o){return n*(t/=o)*t*t*t*t+e},easeOutQuint:function(t,e,n,o){return n*((t=t/o-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,o){return(t/=o/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,o){return-n*Math.cos(t/o*(Math.PI/2))+n+e},easeOutSine:function(t,e,n,o){return n*Math.sin(t/o*(Math.PI/2))+e},easeInOutSine:function(t,e,n,o){return-n/2*(Math.cos(Math.PI*t/o)-1)+e},easeInExpo:function(t,e,n,o){return 0==t?e:n*Math.pow(2,10*(t/o-1))+e},easeOutExpo:function(t,e,n,o){return t==o?e+n:n*(-Math.pow(2,-10*t/o)+1)+e},easeInOutExpo:function(t,e,n,o){return 0==t?e:t==o?e+n:(t/=o/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(-Math.pow(2,-10*--t)+2)+e},easeInCirc:function(t,e,n,o){return-n*(Math.sqrt(1-(t/=o)*t)-1)+e},easeOutCirc:function(t,e,n,o){return n*Math.sqrt(1-(t=t/o-1)*t)+e},easeInOutCirc:function(t,e,n,o){return(t/=o/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,o){var i=1.70158,r=0,s=n;if(0==t)return e;if(1==(t/=o))return e+n;if(r||(r=.3*o),s<Math.abs(n)){s=n;var i=r/4}else var i=r/(2*Math.PI)*Math.asin(n/s);return-(s*Math.pow(2,10*(t-=1))*Math.sin((t*o-i)*(2*Math.PI)/r))+e},easeOutElastic:function(t,e,n,o){var i=1.70158,r=0,s=n;if(0==t)return e;if(1==(t/=o))return e+n;if(r||(r=.3*o),s<Math.abs(n)){s=n;var i=r/4}else var i=r/(2*Math.PI)*Math.asin(n/s);return s*Math.pow(2,-10*t)*Math.sin((t*o-i)*(2*Math.PI)/r)+n+e},easeInOutElastic:function(t,e,n,o){var i=1.70158,r=0,s=n;if(0==t)return e;if(2==(t/=o/2))return e+n;if(r||(r=o*(.3*1.5)),s<Math.abs(n)){s=n;var i=r/4}else var i=r/(2*Math.PI)*Math.asin(n/s);return 1>t?-.5*(s*Math.pow(2,10*(t-=1))*Math.sin((t*o-i)*(2*Math.PI)/r))+e:s*Math.pow(2,-10*(t-=1))*Math.sin((t*o-i)*(2*Math.PI)/r)*.5+n+e},easeInBack:function(t,e,n,o,i){return void 0==i&&(i=1.70158),n*(t/=o)*t*((i+1)*t-i)+e},easeOutBack:function(t,e,n,o,i){return void 0==i&&(i=1.70158),n*((t=t/o-1)*t*((i+1)*t+i)+1)+e},easeInOutBack:function(t,e,n,o,i){return void 0==i&&(i=1.70158),(t/=o/2)<1?n/2*(t*t*(((i*=1.525)+1)*t-i))+e:n/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},easeInBounce:function(t,e,n,o){return n-f.easeOutBounce(o-t,0,n,o)+e},easeOutBounce:function(t,e,n,o){return(t/=o)<1/2.75?n*(7.5625*t*t)+e:2/2.75>t?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:2.5/2.75>t?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,n,o){return o/2>t?.5*f.easeInBounce(2*t,0,n,o)+e:.5*f.easeOutBounce(2*t-o,0,n,o)+.5*n+e}}});